<!DOCTYPE html>
<html lang="en">


<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Friend Finder</title>


  <!-- jQuery -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
  <!-- Bootstrap CSS -->
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
  <!-- my CSS -->
  <!-- Typed.js -->
  <script src="https://cdn.jsdelivr.net/npm/typed.js@2.0.11"></script>

  <body>
    <div class="container">
      <h2><strong>Survey Questions</strong></h2>
      <hr>
      <form method="POST" role="form" class="needs-validation" novalidate>
        <h3><strong>About You</strong></h3>
        <div class="form-group">
          <label for="exampleFormControlInput1" for="validationCustom01"><h4>Name (Required)</h4></label>
          <input type="text" class="form-control" id="name" id="validationCustom01" required>
          <div class="valid-feedback">
            Looks good!
          </div>
        </div>
        <div class="form-group">
          <label for="exampleFormControlInput1" for="validationCustom02"><h4>Link to Photo Image (Required)</h4></label>
          <input type="text" class="form-control" id="photo" id="validationCustom02" required>
          <div class="valid-feedback">
            Looks good!
          </div>
        </div>
        <hr>
        <div class="form-group">
          <h4><strong>Question 1</strong></h4>
          <h6>Korean Fried Chicken is the best type of fried chicken.</h6>
          <select class="chosen-select" id="question-1">
              <option value="option">Select</option>
              <option balue="1">1 (Strongly Disagree)</option>
              <option balue="2">2</option>
              <option balue="3">3</option>
              <option balue="4">4</option>
              <option balue="5">5 (Strongly Agree)</option>
          </select>
          <hr>
          <h4><strong>Question 2</strong></h4>
          <h6>The Golden State Warriors will make the playoffs this year.</h6>
          <select class="chosen-select" id="question-2">
              <option value="option">Select</option>
              <option balue="1">1 (Strongly Disagree)</option>
              <option balue="2">2</option>
              <option balue="3">3</option>
              <option balue="4">4</option>
              <option balue="5">5 (Strongly Agree)</option>
          </select>
          <hr>
          <h4><strong>Question 3</strong></h4>
          <h6>Joe Montana is the best Quarterback in San Franisco 49er history and among the top five in NFL history.</h6>
          <select class="chosen-select" id="question-3">
              <option value="option">Select</option>
              <option balue="1">1 (Strongly Disagree)</option>
              <option balue="2">2</option>
              <option balue="3">3</option>
              <option balue="4">4</option>
              <option balue="5">5 (Strongly Agree)</option>
          </select>
          <hr>
          <h4><strong>Question 4</strong></h4>
          <h6>You are fond of dogs.</h6>
          <select class="chosen-select" id="question-4">
              <option value="option">Select</option>
              <option balue="1">1 (Strongly Disagree)</option>
              <option balue="2">2</option>
              <option balue="3">3</option>
              <option balue="4">4</option>
              <option balue="5">5 (Strongly Agree)</option>
          </select>
          <hr>
          <h4><strong>Question 5</strong></h4>
          <h6>You are fond of cats.</h6>
          <select class="chosen-select" id="question-5">
              <option value="option">Select</option>
              <option balue="1">1 (Strongly Disagree)</option>
              <option balue="2">2</option>
              <option balue="3">3</option>
              <option balue="4">4</option>
              <option balue="5">5 (Strongly Agree)</option>
          </select>
          <hr>
          <h4><strong>Question 6</strong></h4>
          <h6>You are next up at your favorite ice cream shop after waiting 30 minutes in line (because it's a very popular ice cream shop). The person in front of you, however, is taking forever to make up his or her mind. Does this annoy you?</h6>
          <select class="chosen-select" id="question-6">
              <option value="option">Select</option>
              <option balue="1">1 (Strongly Disagree)</option>
              <option balue="2">2</option>
              <option balue="3">3</option>
              <option balue="4">4</option>
              <option balue="5">5 (Strongly Agree)</option>
          </select>
          <hr>
          <h4><strong>Question 7</strong></h4>
          <h6>People who are real finiky about the food they eat can be a pet peeve to you.</h6>
          <select class="chosen-select" id="question-7">
              <option value="option">Select</option>
              <option balue="1">1 (Strongly Disagree)</option>
              <option balue="2">2</option>
              <option balue="3">3</option>
              <option balue="4">4</option>
              <option balue="5">5 (Strongly Agree)</option>
          </select>
          <hr>
          <h4><strong>Question 8</strong></h4>
          <h6>After finding some useful code snippets online for your own code, you actually type it out and even refactor it in your IDE as opposed to blindly copy-pasting it.</h6>
          <select class="chosen-select" id="question-8">
              <option value="option">Select</option>
              <option balue="1">1 (Strongly Disagree)</option>
              <option balue="2">2</option>
              <option balue="3">3</option>
              <option balue="4">4</option>
              <option balue="5">5 (Strongly Agree)</option>
          </select>
          <hr>
          <h4><strong>Question 9</strong></h4>
          <h6>You can get so drawn into coding your program that sometimes you easily lose track of time and forget to eat or take the dog out so she can go to the bathroom.</h6>
          <select class="chosen-select" id="question-9">
              <option value="option">Select</option>
              <option balue="1">1 (Strongly Disagree)</option>
              <option balue="2">2</option>
              <option balue="3">3</option>
              <option balue="4">4</option>
              <option balue="5">5 (Strongly Agree)</option>
          </select>
          <hr>
          <h4><strong>Question 10</strong></h4>
          <h6>You like watching (even maybe binge watching) the show Diners-Drive-Ins and Dives even though Guy Fieri annoys the heck out of you.</h6>
          <select class="chosen-select" id="question-10">
              <option value="option">Select</option>
              <option balue="1">1 (Strongly Disagree)</option>
              <option balue="2">2</option>
              <option balue="3">3</option>
              <option balue="4">4</option>
              <option balue="5">5 (Strongly Agree)</option>
          </select>
          <hr>
        </div>
      </form>
      <button type="submit" class="btn btn-primary" id="survey-button">Submit</button>
      <hr>
      <footer class="footer">
        <div class="container">
          <p><a href="/api/friends">API Friends List</a> | <a href="https://github.com/Olisun/Friend-Finder">Github Repo</a>
        </div>
      </footer>
    </div>

    <!-- Modal -->
    <!-- <div class="modal fade" id="newBffModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true"> -->
    <div id="newBffModal" class="modal fade" role="dialog">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal">&times;
            </button>
            <h3 class="modal-title">Here's your new BFF!</h3>
          </div>

          <div class="modal-body">
            <h4 id="newBff"></h4>
            <img id="newBffImage" src="#" style="width: 300px;">
          </div>

          <div class="modal-footer">
            <button type="button" class="btn btn-default" data-dismiss="modal">Close</
        </div>
      </div>
    </div>
  </div>

    <script>
      $(document).ready(function(){
      // Function for the app to run after the user clicks the submit button. 
      $('#survey-button').on('click', function() {
        // Disabling the default action of the form which must clears it. 
        event.preventDefault();
        // Form validation. Setting initial (blank) form to false. 
        var surveyComplete = false;
        // Grabbing all form elements with a class of 'form-control' and applying jQuery's each method. 


        var newUserData = {
          name: $('#name').val().trim(),
          photo: $('#photo').val().trim(),
          scores: [
            $('#question-1').val(),
            $('#question-2').val(),
            $('#question-3').val(),
            $('#question-4').val(),
            $('#question-5').val(),
            $('#question-6').val(),
            $('#question-7').val(),
            $('#question-8').val(),
            $('#question-9').val(),
            $('#question-10').val()
          ]
        };
        alert('Finding your new best friend!');
        //
        var currentURL = window.location.origin;
        
        $.post(currentURL + '/api/friends', newUserData, function(data) {
          console.log(data);
          $('#newBff').text(data.name);
          $('#newBffImage').attr('src', data.photo);
          $('#newBffModal').modal('toggle');
        });
        // This clears the form after the user hits the survey button. 
        $('#name').val('');
        $('#photo').val('');
        $('#question-1').val('');
        $('#question-2').val('');
        $('#question-3').val('');
        $('#question-4').val('');
        $('#question-5').val('');
        $('#question-6').val('');
        $('#question-7').val('');
        $('#question-8').val('');
        $('#question-9').val('');
        $('#question-10').val('')
      });
    });
    </script>


    <script type="text/javascript" src="../miscJavaScript/effects.js"></script>
  </body>

</html>